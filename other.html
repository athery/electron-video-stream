<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Electron Video</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    video {
      width: 100%;
      height: 100%;
    }
  </style>
  <body>
    <video autoplay="true"></video>
    <!-- <script>var electronRequire = require</script> -->
    <script src="./node_modules/peerjs/dist/peer.min.js"></script>

    <script type="text/javascript">
      var peer = new Peer({ key: 'ob1bohiqjkedn29' })
      var video = document.querySelector('video')

      console.log('peer', peer)

      peer.on('connection', function (conn) {
        console.log('On connection', conn)
      })

      peer.on('open', function (id) {
        console.log('My ID ', id)

        var conn = peer.connect('wcl-pi')

      })

      peer.on('call', function (call) {
        console.log('on call', call)

        call.answer()

        call.on('stream', function (stream) {
          video.src = URL.createObjectURL(stream)
        })

      })
    </script>

  </body>
</html>
